
 N E X T F L O W   ~  version 24.04.4

Launching `main.nf` [stoic_mercator] DSL2 - revision: 3eef4af38d

[-        ] convert_fixed_images  -
[-        ] convert_moving_images -
[-        ] affine_registration   -
[-        ] elastic_registration  -

Monitor the execution with Seqera Platform using this URL: https://cloud.seqera.io/user/alessiochiodin/watch/26lqVUnF2CSuNx
[-        ] convert_fixed_images  -
[-        ] convert_moving_images -
[-        ] affine_registration   -
[-        ] elastic_registration  -

Monitor the execution with Seqera Platform using this URL: https://cloud.seqera.io/user/alessiochiodin/watch/26lqVUnF2CSuNx
[-        ] convert_fixed_images  | 0 of 9
[-        ] convert_moving_images | 0 of 9
[-        ] affine_registration   -
[-        ] elastic_registration  -

Monitor the execution with Seqera Platform using this URL: https://cloud.seqera.io/user/alessiochiodin/watch/26lqVUnF2CSuNx
executor >  pbspro (1)
[e6/e9a7c6] con…_images (image_conversion) | 0 of 9
[-        ] convert_moving_images          | 0 of 9
[-        ] affine_registration            -
[-        ] elastic_registration           -

Monitor the execution with Seqera Platform using this URL: https://cloud.seqera.io/user/alessiochiodin/watch/26lqVUnF2CSuNx
executor >  pbspro (2)
[f7/689063] con…_images (image_conversion) | 0 of 9
[-        ] convert_moving_images          | 0 of 9
[-        ] affine_registration            -
[-        ] elastic_registration           -

Monitor the execution with Seqera Platform using this URL: https://cloud.seqera.io/user/alessiochiodin/watch/26lqVUnF2CSuNx
executor >  pbspro (4)
[de/0d3924] con…_images (image_conversion) | 0 of 9
[db/d7f10d] con…_images (image_conversion) | 0 of 9
[-        ] affine_registration            -
[-        ] elastic_registration           -

Monitor the execution with Seqera Platform using this URL: https://cloud.seqera.io/user/alessiochiodin/watch/26lqVUnF2CSuNx
executor >  pbspro (5)
[de/0d3924] con…_images (image_conversion) | 0 of 9
[13/bb3154] con…_images (image_conversion) | 0 of 9
[-        ] affine_registration            -
[-        ] elastic_registration           -

Monitor the execution with Seqera Platform using this URL: https://cloud.seqera.io/user/alessiochiodin/watch/26lqVUnF2CSuNx
executor >  pbspro (6)
[de/0d3924] con…_images (image_conversion) | 0 of 9
[6f/b31960] con…_images (image_conversion) | 0 of 9
[-        ] affine_registration            -
[-        ] elastic_registration           -

Monitor the execution with Seqera Platform using this URL: https://cloud.seqera.io/user/alessiochiodin/watch/26lqVUnF2CSuNx
executor >  pbspro (7)
[de/0d3924] con…_images (image_conversion) | 0 of 9
[57/491b34] con…_images (image_conversion) | 0 of 9
[-        ] affine_registration            -
[-        ] elastic_registration           -

Monitor the execution with Seqera Platform using this URL: https://cloud.seqera.io/user/alessiochiodin/watch/26lqVUnF2CSuNx
executor >  pbspro (8)
[5c/4358fc] con…_images (image_conversion) | 0 of 9
[57/491b34] con…_images (image_conversion) | 0 of 9
[-        ] affine_registration            -
[-        ] elastic_registration           -

Monitor the execution with Seqera Platform using this URL: https://cloud.seqera.io/user/alessiochiodin/watch/26lqVUnF2CSuNx
executor >  pbspro (8)
[f7/689063] con…_images (image_conversion) | 1 of 9
[57/491b34] con…_images (image_conversion) | 0 of 9
[-        ] affine_registration            -
[-        ] elastic_registration           -

Monitor the execution with Seqera Platform using this URL: https://cloud.seqera.io/user/alessiochiodin/watch/26lqVUnF2CSuNx
executor >  pbspro (9)
[b9/b10736] con…_images (image_conversion) | 3 of 9
[6f/b31960] con…_images (image_conversion) | 2 of 9
[-        ] affine_registration            | 0 of 1
[-        ] elastic_registration           -

Monitor the execution with Seqera Platform using this URL: https://cloud.seqera.io/user/alessiochiodin/watch/26lqVUnF2CSuNx
executor >  pbspro (10)
[2b/ae78d5] con…_images (image_conversion) | 3 of 9
[57/491b34] con…_images (image_conversion) | 4 of 9
[-        ] affine_registration            | 0 of 4
[-        ] elastic_registration           -

Monitor the execution with Seqera Platform using this URL: https://cloud.seqera.io/user/alessiochiodin/watch/26lqVUnF2CSuNx
executor >  pbspro (11)
[5c/4358fc] con…_images (image_conversion) | 4 of 9
[57/491b34] con…_images (image_conversion) | 4 of 9
[-        ] affine_registration            | 0 of 4
[-        ] elastic_registration           -

Monitor the execution with Seqera Platform using this URL: https://cloud.seqera.io/user/alessiochiodin/watch/26lqVUnF2CSuNx
executor >  pbspro (12)
[5c/4358fc] con…_images (image_conversion) | 4 of 9
[e3/f72382] con…_images (image_conversion) | 4 of 9
[-        ] affine_registration            | 0 of 4
[-        ] elastic_registration           -

Monitor the execution with Seqera Platform using this URL: https://cloud.seqera.io/user/alessiochiodin/watch/26lqVUnF2CSuNx
executor >  pbspro (13)
[71/bb0777] con…_images (image_conversion) | 4 of 9
[e3/f72382] con…_images (image_conversion) | 4 of 9
[-        ] affine_registration            | 0 of 4
[-        ] elastic_registration           -

Monitor the execution with Seqera Platform using this URL: https://cloud.seqera.io/user/alessiochiodin/watch/26lqVUnF2CSuNx
executor >  pbspro (14)
[71/bb0777] con…_images (image_conversion) | 4 of 9
[2d/a6bd5f] con…_images (image_conversion) | 4 of 9
[-        ] affine_registration            | 0 of 4
[-        ] elastic_registration           -

Monitor the execution with Seqera Platform using this URL: https://cloud.seqera.io/user/alessiochiodin/watch/26lqVUnF2CSuNx
executor >  pbspro (15)
[71/bb0777] con…_images (image_conversion) | 4 of 9
[2d/a6bd5f] con…_images (image_conversion) | 4 of 9
[6b/d843a7] aff…istration (registration_1) | 0 of 4
[-        ] elastic_registration           -

Monitor the execution with Seqera Platform using this URL: https://cloud.seqera.io/user/alessiochiodin/watch/26lqVUnF2CSuNx
executor >  pbspro (16)
[71/bb0777] con…_images (image_conversion) | 4 of 9
[2d/a6bd5f] con…_images (image_conversion) | 4 of 9
[17/d093a0] aff…istration (registration_1) | 0 of 4
[-        ] elastic_registration           -

Monitor the execution with Seqera Platform using this URL: https://cloud.seqera.io/user/alessiochiodin/watch/26lqVUnF2CSuNx
executor >  pbspro (16)
[b9/b10736] con…_images (image_conversion) | 5 of 9
[2d/a6bd5f] con…_images (image_conversion) | 4 of 9
[17/d093a0] aff…istration (registration_1) | 0 of 4
[-        ] elastic_registration           -

Monitor the execution with Seqera Platform using this URL: https://cloud.seqera.io/user/alessiochiodin/watch/26lqVUnF2CSuNx
executor >  pbspro (16)
[2b/ae78d5] con…_images (image_conversion) | 7 of 9
[2d/a6bd5f] con…_images (image_conversion) | 4 of 9
[17/d093a0] aff…istration (registration_1) | 0 of 4
[-        ] elastic_registration           -

Monitor the execution with Seqera Platform using this URL: https://cloud.seqera.io/user/alessiochiodin/watch/26lqVUnF2CSuNx
executor >  pbspro (16)
[71/bb0777] con…_images (image_conversion) | 8 of 9
[2d/a6bd5f] con…_images (image_conversion) | 6 of 9
[17/d093a0] aff…istration (registration_1) | 0 of 6
[-        ] elastic_registration           -

Monitor the execution with Seqera Platform using this URL: https://cloud.seqera.io/user/alessiochiodin/watch/26lqVUnF2CSuNx
executor >  pbspro (17)
[71/bb0777] con…_images (image_conversion) | 8 of 9
[2d/a6bd5f] con…_images (image_conversion) | 6 of 9
[88/d74558] aff…istration (registration_1) | 0 of 6
[-        ] elastic_registration           -

Monitor the execution with Seqera Platform using this URL: https://cloud.seqera.io/user/alessiochiodin/watch/26lqVUnF2CSuNx
executor >  pbspro (19)
[71/bb0777] con…_images (image_conversion) | 8 of 9
[da/90716e] con…_images (image_conversion) | 6 of 9
[e6/88c8f7] aff…istration (registration_1) | 0 of 6
[-        ] elastic_registration           -

Monitor the execution with Seqera Platform using this URL: https://cloud.seqera.io/user/alessiochiodin/watch/26lqVUnF2CSuNx
executor >  pbspro (20)
[71/bb0777] con…_images (image_conversion) | 8 of 9
[98/554e24] con…_images (image_conversion) | 6 of 9
[e6/88c8f7] aff…istration (registration_1) | 0 of 6
[-        ] elastic_registration           -

Monitor the execution with Seqera Platform using this URL: https://cloud.seqera.io/user/alessiochiodin/watch/26lqVUnF2CSuNx
executor >  pbspro (21)
[71/bb0777] con…_images (image_conversion) | 8 of 9
[a3/37e915] con…_images (image_conversion) | 6 of 9
[e6/88c8f7] aff…istration (registration_1) | 0 of 6
[-        ] elastic_registration           -

Monitor the execution with Seqera Platform using this URL: https://cloud.seqera.io/user/alessiochiodin/watch/26lqVUnF2CSuNx
executor >  pbspro (22)
[cd/eeb59b] con…_images (image_conversion) | 8 of 9
[a3/37e915] con…_images (image_conversion) | 6 of 9
[e6/88c8f7] aff…istration (registration_1) | 0 of 6
[-        ] elastic_registration           -

Monitor the execution with Seqera Platform using this URL: https://cloud.seqera.io/user/alessiochiodin/watch/26lqVUnF2CSuNx
executor >  pbspro (22)
[cd/eeb59b] con…_images (image_conversion) | 8 of 9
[da/90716e] con…_images (image_conversion) | 8 of 9
[e6/88c8f7] aff…istration (registration_1) | 0 of 8
[-        ] elastic_registration           -

Monitor the execution with Seqera Platform using this URL: https://cloud.seqera.io/user/alessiochiodin/watch/26lqVUnF2CSuNx
executor >  pbspro (22)
[cd/eeb59b] con…_images (image_conversion) | 9 of 9 ✔
[a3/37e915] con…_images (image_conversion) | 9 of 9 ✔
[e6/88c8f7] aff…istration (registration_1) | 0 of 9
[-        ] elastic_registration           -

Monitor the execution with Seqera Platform using this URL: https://cloud.seqera.io/user/alessiochiodin/watch/26lqVUnF2CSuNx
executor >  pbspro (22)
[cd/eeb59b] con…_images (image_conversion) | 9 of 9 ✔
[a3/37e915] con…_images (image_conversion) | 9 of 9 ✔
[e6/88c8f7] aff…istration (registration_1) | 0 of 9
[-        ] elastic_registration           -

Monitor the execution with Seqera Platform using this URL: https://cloud.seqera.io/user/alessiochiodin/watch/26lqVUnF2CSuNx
executor >  pbspro (22)
[cd/eeb59b] con…_images (image_conversion) | 9 of 9 ✔
[a3/37e915] con…_images (image_conversion) | 9 of 9 ✔
[e6/88c8f7] aff…istration (registration_1) | 0 of 9
[-        ] elastic_registration           -

Monitor the execution with Seqera Platform using this URL: https://cloud.seqera.io/user/alessiochiodin/watch/26lqVUnF2CSuNx
executor >  pbspro (23)
[cd/eeb59b] con…_images (image_conversion) | 9 of 9 ✔
[a3/37e915] con…_images (image_conversion) | 9 of 9 ✔
[5d/85eab2] aff…istration (registration_1) | 0 of 9
[-        ] elastic_registration           -
ERROR ~ Error executing process > 'affine_registration (registration_1)'

Caused by:
  Process `affine_registration (registration_1)` terminated with an error exit status (137)


Command executed:

  if [ "FALSE" == "False" ] || [ "FALSE" == "FALSE" ]; then
      affine_registration.py             --input-path "/hpcnfs/techunits/imaging/work/ATTEND/achiodin/ome_tiff_images/2024.08.09_DAPI_PD1_SRSF3/20752a7_DAPI_PD1_SRSF3.ome.tiff"             --output-path "/hpcnfs/techunits/imaging/work/ATTEND/achiodin/registered_images/data/output/image_registration/affine/2024.08.09_DAPI_PD1_SRSF3/20752a7_DAPI_PD1_SRSF3.ome.tiff"             --fixed-image-path "/hpcnfs/techunits/imaging/work/ATTEND/achiodin/ome_tiff_images/2024.07.17_DAPI_MLH1_panCK/20752a7_DAPI_MLH1_panCK.ome.tiff"             --logs-dir "/hpcnfs/techunits/imaging/work/ATTEND/achiodin/registered_images/logs" 
  fi

Command exit status:
  137

Command output:
  (empty)

Command error:
  2024-09-21 14:14:13,847 - INFO - Output path: /hpcnfs/techunits/imaging/work/ATTEND/achiodin/registered_images/data/output/image_registration/affine/2024.08.09_DAPI_PD1_SRSF3/20752a7_DAPI_PD1_SRSF3.ome.tiff
  2024-09-21 14:14:13,849 - DEBUG - Output directory created successfully: 2024.08.09_DAPI_PD1_SRSF3
  2024-09-21 14:14:13,849 - DEBUG - Loading fixed image /hpcnfs/techunits/imaging/work/ATTEND/achiodin/ome_tiff_images/2024.08.09_DAPI_PD1_SRSF3/20752a7_DAPI_PD1_SRSF3.ome.tiff
  2024-09-21 14:15:21,469 - DEBUG - Loading moving image /hpcnfs/techunits/imaging/work/ATTEND/achiodin/ome_tiff_images/2024.08.09_DAPI_PD1_SRSF3/20752a7_DAPI_PD1_SRSF3.ome.tiff
  2024-09-21 14:16:37,463 - DEBUG - Moving image shape: (59876, 60681, 3)
  2024-09-21 14:16:37,463 - DEBUG - Fixed image shape: (57870, 60256, 3)
  2024-09-21 14:17:06,027 - DEBUG - Padded moving image shape: (59876, 60681, 3)
  2024-09-21 14:17:06,027 - DEBUG - Padded fixed image shape: (59876, 60681, 3)
  2024-09-21 14:17:07,080 - INFO - Computing affine transformation matrix.
  2024-09-21 14:17:18,018 - INFO - Transformation computed successfully.
  2024-09-21 14:17:18,545 - INFO - Applying transformation to moving crops.
  2024-09-21 14:19:50,892 - INFO - Transformations applied successfully.
  2024-09-21 14:19:55,995 - INFO - Exporting registered image to /hpcnfs/techunits/imaging/work/ATTEND/achiodin/registered_images/data/output/image_registration/affine/2024.08.09_DAPI_PD1_SRSF3/20752a7_DAPI_PD1_SRSF3.ome.tiff.
  .command.sh: line 4: 28293 Killed                  affine_registration.py --input-path "/hpcnfs/techunits/imaging/work/ATTEND/achiodin/ome_tiff_images/2024.08.09_DAPI_PD1_SRSF3/20752a7_DAPI_PD1_SRSF3.ome.tiff" --output-path "/hpcnfs/techunits/imaging/work/ATTEND/achiodin/registered_images/data/output/image_registration/affine/2024.08.09_DAPI_PD1_SRSF3/20752a7_DAPI_PD1_SRSF3.ome.tiff" --fixed-image-path "/hpcnfs/techunits/imaging/work/ATTEND/achiodin/ome_tiff_images/2024.07.17_DAPI_MLH1_panCK/20752a7_DAPI_MLH1_panCK.ome.tiff" --logs-dir "/hpcnfs/techunits/imaging/work/ATTEND/achiodin/registered_images/logs"

Work dir:
  /hpcnfs/scratch/DIMA/chiodin/repositories/image_registration_pipeline/work/6b/d843a71442bee79e2573b6c5e90dbd

Tip: you can replicate the issue by changing to the process work dir and entering the command `bash .command.run`

 -- Check '.nextflow.log' file for details
WARN: Killing running tasks (4)

Monitor the execution with Seqera Platform using this URL: https://cloud.seqera.io/user/alessiochiodin/watch/26lqVUnF2CSuNx
executor >  pbspro (23)
[cd/eeb59b] con…_images (image_conversion) | 9 of 9 ✔
[a3/37e915] con…_images (image_conversion) | 9 of 9 ✔
[5d/85eab2] aff…istration (registration_1) | 1 of 5, failed: 1
[-        ] elastic_registration           -
ERROR ~ Error executing process > 'affine_registration (registration_1)'

Caused by:
  Process `affine_registration (registration_1)` terminated with an error exit status (137)


Command executed:

  if [ "FALSE" == "False" ] || [ "FALSE" == "FALSE" ]; then
      affine_registration.py             --input-path "/hpcnfs/techunits/imaging/work/ATTEND/achiodin/ome_tiff_images/2024.08.09_DAPI_PD1_SRSF3/20752a7_DAPI_PD1_SRSF3.ome.tiff"             --output-path "/hpcnfs/techunits/imaging/work/ATTEND/achiodin/registered_images/data/output/image_registration/affine/2024.08.09_DAPI_PD1_SRSF3/20752a7_DAPI_PD1_SRSF3.ome.tiff"             --fixed-image-path "/hpcnfs/techunits/imaging/work/ATTEND/achiodin/ome_tiff_images/2024.07.17_DAPI_MLH1_panCK/20752a7_DAPI_MLH1_panCK.ome.tiff"             --logs-dir "/hpcnfs/techunits/imaging/work/ATTEND/achiodin/registered_images/logs" 
  fi

Command exit status:
  137

Command output:
  (empty)

Command error:
  2024-09-21 14:14:13,847 - INFO - Output path: /hpcnfs/techunits/imaging/work/ATTEND/achiodin/registered_images/data/output/image_registration/affine/2024.08.09_DAPI_PD1_SRSF3/20752a7_DAPI_PD1_SRSF3.ome.tiff
  2024-09-21 14:14:13,849 - DEBUG - Output directory created successfully: 2024.08.09_DAPI_PD1_SRSF3
  2024-09-21 14:14:13,849 - DEBUG - Loading fixed image /hpcnfs/techunits/imaging/work/ATTEND/achiodin/ome_tiff_images/2024.08.09_DAPI_PD1_SRSF3/20752a7_DAPI_PD1_SRSF3.ome.tiff
  2024-09-21 14:15:21,469 - DEBUG - Loading moving image /hpcnfs/techunits/imaging/work/ATTEND/achiodin/ome_tiff_images/2024.08.09_DAPI_PD1_SRSF3/20752a7_DAPI_PD1_SRSF3.ome.tiff
  2024-09-21 14:16:37,463 - DEBUG - Moving image shape: (59876, 60681, 3)
  2024-09-21 14:16:37,463 - DEBUG - Fixed image shape: (57870, 60256, 3)
  2024-09-21 14:17:06,027 - DEBUG - Padded moving image shape: (59876, 60681, 3)
  2024-09-21 14:17:06,027 - DEBUG - Padded fixed image shape: (59876, 60681, 3)
  2024-09-21 14:17:07,080 - INFO - Computing affine transformation matrix.
  2024-09-21 14:17:18,018 - INFO - Transformation computed successfully.
  2024-09-21 14:17:18,545 - INFO - Applying transformation to moving crops.
  2024-09-21 14:19:50,892 - INFO - Transformations applied successfully.
  2024-09-21 14:19:55,995 - INFO - Exporting registered image to /hpcnfs/techunits/imaging/work/ATTEND/achiodin/registered_images/data/output/image_registration/affine/2024.08.09_DAPI_PD1_SRSF3/20752a7_DAPI_PD1_SRSF3.ome.tiff.
  .command.sh: line 4: 28293 Killed                  affine_registration.py --input-path "/hpcnfs/techunits/imaging/work/ATTEND/achiodin/ome_tiff_images/2024.08.09_DAPI_PD1_SRSF3/20752a7_DAPI_PD1_SRSF3.ome.tiff" --output-path "/hpcnfs/techunits/imaging/work/ATTEND/achiodin/registered_images/data/output/image_registration/affine/2024.08.09_DAPI_PD1_SRSF3/20752a7_DAPI_PD1_SRSF3.ome.tiff" --fixed-image-path "/hpcnfs/techunits/imaging/work/ATTEND/achiodin/ome_tiff_images/2024.07.17_DAPI_MLH1_panCK/20752a7_DAPI_MLH1_panCK.ome.tiff" --logs-dir "/hpcnfs/techunits/imaging/work/ATTEND/achiodin/registered_images/logs"

Work dir:
  /hpcnfs/scratch/DIMA/chiodin/repositories/image_registration_pipeline/work/6b/d843a71442bee79e2573b6c5e90dbd

Tip: you can replicate the issue by changing to the process work dir and entering the command `bash .command.run`

 -- Check '.nextflow.log' file for details
WARN: Seqera Platform request field `workflow.errorMessage` exceeds expected size | offending value: `2024-09-21 14:14:13,847 - INFO - Output path: /hpcnfs/techunits/imaging/work/ATTEND/achiodin/registe(truncated)`, size: 2193 (max: 255)

